<UserControl
    x:Class="RD3.Views.NewFeedView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:ex="clr-namespace:LayUI.Wpf.Extensions;assembly=LayUI.Wpf.Extensions"
    xmlns:hc="https://handyorg.github.io/handycontrol"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:local="clr-namespace:RD3"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:viewmodels="clr-namespace:RD3.ViewModels"
    d:DataContext="{d:DesignInstance Type=viewmodels:NewFeedViewModel}"
    Height ="700"
    Width ="1350"
    Background="{StaticResource BackGroundBrush}"
    TextElement.FontFamily="{DynamicResource AppFontFamily}"
    TextElement.FontSize="{DynamicResource TextFontSize}"
    TextElement.FontWeight="Regular"
    TextElement.Foreground="{DynamicResource MaterialDesignBody}"
    TextOptions.TextFormattingMode="Ideal"
    TextOptions.TextRenderingMode="Auto"
    mc:Ignorable="d">
    <Border Background="{StaticResource BackGroundBrush}" CornerRadius="{StaticResource DefaultCornerRadius}">
        <Grid>
            <Grid.RowDefinitions>
                <!--操作按钮-->
                <RowDefinition Height="70" />
                <!--数据表格-->
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <DockPanel Grid.Row="0" >
                <Button Name="Save" Command="{Binding SaveCommand}" Width="80" Height="40" HorizontalAlignment="Right" Margin="10" FontSize="18">保存</Button>
            </DockPanel>

            <DataGrid Grid.Row="1"
                 Name="dataGrid"
                 hc:DataGridAttach.CanUnselectAllWithBlankArea="False"
                 hc:DataGridAttach.ShowSelectAllButton="False"
                 AutoGenerateColumns="False"
                 Background="{StaticResource DefaultBrush}"
                 CanUserAddRows="True"
                 CanUserSortColumns="False"
                 ColumnWidth="SizeToHeader"
                 GridLinesVisibility="All"
                 HeadersVisibility="Column"
                 HorizontalGridLinesBrush="LightGray"
                 IsReadOnly="False"
                 ItemsSource="{Binding FeedInfos}"
                 RowHeaderWidth="100"
                 ScrollViewer.HorizontalScrollBarVisibility="Auto"
                 ScrollViewer.VerticalScrollBarVisibility="Auto"
                 SelectionMode="Single"
                 SelectionUnit="Cell"
                 VerticalGridLinesBrush="LightGray" 
                      LayoutUpdated="DataGridMain_OnLayoutUpdated"
                       >    
                <DataGrid.Columns>
                    <DataGridTextColumn Header="ID" Binding="{Binding ID}" Width="50" IsReadOnly="False" CanUserSort="False" />
                    <DataGridTextColumn Header="名称" Binding="{Binding Name}" Width="200" IsReadOnly="False" CanUserSort="False"/>
                    <DataGridTextColumn Header="表达式" Binding="{Binding Equation}" Width="200" IsReadOnly="False" CanUserSort="False" />
                    <DataGridTextColumn Header="变量" Binding="{Binding Variable}" Width="150" IsReadOnly="False" CanUserSort="False"/>
                    <DataGridTextColumn Header="描述" Binding="{Binding Description}" Width="*" IsReadOnly="False" CanUserSort="False" />
                    <DataGridTextColumn Header="设定值ID" Binding="{Binding SetValueID}" Width="100" IsReadOnly="False" CanUserSort="False"/>
                    <DataGridTextColumn Header="过程值ID" Binding="{Binding ProcessValueID}" Width="100" IsReadOnly="False" CanUserSort="False" />
                    <DataGridTextColumn Header="类型" Binding="{Binding FeedInfoType}" Width="200" IsReadOnly="False" CanUserSort="False"/>
                    <!--<DataGridTextColumn Header="模式" Binding="{Binding excuteType}" Width="100" IsReadOnly="True" CanUserSort="False" />-->
                </DataGrid.Columns>
            </DataGrid>
        </Grid>
    </Border>
</UserControl>
